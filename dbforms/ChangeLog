2003-10-19
(Henner.Kollmann@gmx.de)
   - start documentation of internally used fields in the generated html page
   - moved FieldValues interface from old Enumeration to newer and changable Iterator interface
   - navigation bug fix in DataSourceXML
   - added DOMFactory package to handle dom support easily. Implemented is only support for XERCES/XALAN yet!
   - added TLDDoc

   
2003-10-16
(Henner.Kollmann@gmx.de)
   - bug fix: Making the fieldValues.remove("something_I_dont_want_updated") work? It gets ignored now.  unassigned  open  
              will work now!!!!
   - added patches from Sunil Mishra [sunil_mishra@adp.com]: IGNORE_OPERATION for process interceptors
             
              
2003-10-10
(Henner.Kollmann@gmx.de)
   - move value setting for the sqlFilter from the DbFilterConditionTag to the DataSource classes.
   - added sqlFilter support for XML DataSource

2003-10-05
fossato@pow2.com
   - added snooper to all test pages in the bookstore example.
     With this snooper the contents of the http request is be dumped to the page
     
2003-10-04
(Henner.Kollmann@gmx.de)
   - changed to jasperreports 0.5.0
   - new howto for printing jasperreports in bookstore
   
2003-10-03
(Henner.Kollmann@gmx.de)
   - bug fixed server side validation. Server side validation did not work with datalist navigation.
   - clean up buttons: Move duplicate code into base class
   - create new reload event to reload the entire dataset. So you can just use the reload event and do not need
     to build an update event with special handling in DbFormsTag.
   - create new reload button
   - new button create factory so that you can use each button in other tags.
   - change DbFilterTag to use button create factory to render reload buttons instead of goto buttons
   - remove special handling for filter from DbFormTag.
   - refactor class hirachie of taglibs

2003-09-29
(Henner.Kollmann@gmx.de)
    Switch to maven 1.0-rc1
  	
2003-09-11
(Henner.Kollmann@gmx.de)
	new tag confTableData:
		external data source like tableData. 
		Can be used with all tables configured in the config file, xml data included!
2003-08-23
(s.moretti@nsi-mail.it)
   - added attribute to DbFormTag "sqlFilter": this is a plain piece of sql code that is inserted in the where clause
   - added tag DbFilterTag: main tag that represent a list of filter condition, one of them could be enabled at a time
   - added tag DbFilterConditionTag: tag to represent a filter condition in a DbFilterTag structure
   - added tag DbFilterValueTag: tag to represent a user input in a DbFilterConditionTag

2003-08-08
(Henner.Kollmann@gmx.de)
   - added a tabselector example to bookstore/howto
   - added a example how to change select box to bookstore/howto

====================== v1_1_4pr1 was released ==============================================         
2003-08-06
(Henner.Kollmann@gmx.de)
   - new fields holding the old values are generated with an prefixed o. So it's possible to compare
     changes of form field values.
   - update will only lead to sql update if values in the row are changed.
   - new message resources in the org.dbforms.resources path
   - New class to handle internal messages
   - Internal generated error messages while getting privileges errors are generated from the resources
   - new weekly build on the web page 

2003-07-29
(Henner.Kollmann@gmx.de)
   - integrated junit tesing for the client side. Now we can test the results of dbforms.
   - New button: NavCopyButton to generate a new record with copying the old values
     (thanks to our new developer Stefano Borghi)
   - Bug fixes.
   - merged the developer branch v1_1_4dev back to the head revision.
   - setup automatic deployment task to update the web side quite often.
   - new documentation and uml diagrams (thanks to Luca)
   
 
====================== v1_1_4dev was released ==============================================       
2003-05-03
(Henner.Kollmann@gmx.de)
   - do reformatting and integrating of jalopy to ant. So checkstyle shows only relevant errors. 
     Now we have only 1597 errors, not more 10623 like in version 1.1.3.
     And this errors are "true" errors which are "worth" to be reviewed! 

2003-05-20
(Henner.Kollmann@gmx.de)
   - changed dependend to xerces 2.4 version
   - added a new example bookstore to show some special features to dbforms
   - added support for xml data, example see bookstore example
   - added documentation for xml data
   - added new attributes to schemata file
         

2003-04-01
(Henner.Kollmann@gmx.de)
   new navigation system
   ======================
   commited first version.
   
   Changes in detail:
     
     EventSystem:
        - Split the event system to classic and datalist classes. Under classic you find all the old navigation/database events 
          nearly unchanged. Only some small modifications to reflect the clean up,
          Under datalist you find new classes with a modificated DataList pattern.
          With this classes you can use navigation with free form select. 
          It is possible to implement your own data access classes to get get data form non sql source. The only thing you must do is
          to implement a new DataSource class derived from DataSource (see DataSourceJDBC for example). DataSource class is created
          via reflection from new table attribute dataAccessClass of table/query in dbforms-config.
          

     DataBaseEventSystem:
     	- remove all the jdbc call from the DataBase events in new 

     NavigationEventSystem:
   	- rearrange and simplify. 
   	- Removed BoundedEvents. 
   	- Changed the interfaces.
   	- rearranged class structure.
   	
     Table.java
   	- getFieldValuesFromPositionAsHt will know return a special class FieldValues.
	- new method getKeyPositionString(FieldValues) to have FieldValue as Value of the hashTable.
	- new method getKeyPositionString(String[] currentRow)
	- new method getPositionString(String[] currentRow)
	- change getPositionString to use  getPositionString(String[] currentRow)
	- change getKeyPositionString to use getKeyPositionString(String[] currentRow)
	- new methods doUpdate, doInsert

     DbFormTag:
     	- Clean up the code in DbFormTag.doStartTag, Part III - the part which retrieves the data. 
     	  Know only event system is used to fetch the data. Know more direct calls to table.
	- change checkLinkage to use Field as key in hashTable

     FieldValues.java:
        - delegator pattern for hashtable with FieldValues. Found that in the whole frame work different hashtables for storing 
          FieldValue where used. Clean them up so that only FieldValues class will be used.
          Key of this class is the FieldName, value is FieldValue
	
     Constants.java:
        - clean up: Moved all constant values into one class. 

====================== v1_1_3 was released ==============================================       
====================== create branch v1_1_4dev for the changes ==============================================       

2003-02-18
(Henner.Kollmann@gmx.de)
     Add id attribute to search tag

2003-02-12
(Henner.Kollmann@gmx.de)
     DbLinkURLTag.java: added TryCatchFinnaly to support Tomcat 4 tag pooling.
     
       
2003-02-07
(Henner.Kollmann@gmx.de)
    integrate DbForms with JasperReports.
    taken from api doc:
    	This servlet starts a JasperReport.
	Data is read from the current dbForm.
	Servlet is looking for the report xml file in WEB-INF/custom/reports, WEB-INF/reports.
	If report xml is newer then jasper file report will be recompiled.
	Data is send to report as JRDataSourceRSV which is a Wrapper around an ResultSetVector.
	To enable subreports, message resources etc an ReportParameter is send to the JasperReport. 
	usage:
		with a simple goto button:
			<db:gotoButton
				destTable="web_parts"
				destination=" /reports/Artikel"/>
		or for one record:
			<db:gotoButton
				destTable="web_parts"
				keyToDestPos="currentRow"
				destination="/reports/Artikel"
			/>
	Servlet mapping must be set to handle all /reports by this servlet!!!
		<servlet>
			<servlet-name>startreport</servlet-name>
			<display-name>startreport</display-name>
			<servlet-class>org.dbforms.StartReportServlet</servlet-class>
		</servlet>
		<servlet-mapping>
			<servlet-name>startreport</servlet-name>
			<url-pattern>/reports/*</url-pattern>
		</servlet-mapping>

2003-02-04
(Henner.Kollmann@gmx.de)
    Controller.java,DbFormTag.java, DbFormsValidatorUtil.java
   	refactor validation so that subforms will be validated too.
    	Works for javascript and server based validation.
	refactor javascriptFieldsArray so that fields in subform will be generated too.

2003-02-03
(Henner.Kollmann@gmx.de)
    ConfigServlet.java
	allow more then one config file, seperated by ,
	allow mre then one validation file, seperated by ,          
    DbFormsValidator.java
        remove null pointer exception
    DbFormsValidatorUtil.java
        remove blind javascript code if validation not found
        
        
2003-01-31
(Henner.Kollmann@gmx.de)
    ConfigServlet.java
        added events to query
        rearranged initXMLValidator code

2003-01-30
(fossato@pow2.com)
    started the "Mavenization" process for the the current DbForms web site.
    See http://jakarta.apache.org/turbine/maven/ for further informations about the
    Jakarta Turbine-Maven project.
 
    - started the porting of the actual web site documentation to the xdoc format;
    - added the "site.xml" ant build file that can be used to build a preview of the
      "xdoc documentation" - Maven "site:generate" target is quite an heavy beast !! ;^)

    SITE PREVIEW:
    To generate a *preview* of the web site documentation, follow those steps:

    > cd $DBFORMS_HOME
    $DBFORMS_HOME > ant -buildfile site.xml

    Ant will build the $DBFORMS_HOME/xdocs_target directory; it will contains 
    the new html documentation that uses the "jakarta-site2" look
    http://jakarta.apache.org/site/jakarta-site2.html

    MAVEN SITE GENERATION
    a) get and install the latest Turbine-Maven distribuition
       http://jakarta.apache.org/turbine/maven/

    b.0) put $MAVEN_HOME/bin directory into your system PATH;
    b.1) put your cvs.exe client program into your system PATH;

    c) > cd $DBFORMS_HOME
       $DBFORMS_HOME > maven site:generate

    d) wait a bit... ;^)

    A successfull Maven build process creates the $DBFORMS_HOME/target/docs directory;
    to view the new site load the $DBFORMS_HOME/target/docs/index.html file into your web browser.
    


====================== v1_1_3_pr2 was released ==============================================       

2003-01-28
(Henner.Kollmann@gmx.de)
    2 more helper classes:
        StringUtil.java: dealing with strings
        TimeUtil.java  : dealing with parsing/converting of Dates
    SqlUtil.java:
        changed parsing of timestamp to make it more fault tolerant. Now it's possible to
        enter something like 12.12  and the value will be expanded to 12.12.2003 (current year).
        Same for 12. will be expanded to 12.<current month>.<current year>
    DbFormTag.java:
        Extend extending searching and time fields. If you input a single time value like 12.01.2003 12:30 you
        will get the range up to the end of the day: 12.01.2003 12:00 - 13.01.2003 0:00
   

2003-01-27
(Henner.Kollmann@gmx.de)
    FieldValues.java:
       corrected bug with navigation and NOTISNULL
2003-01-24
(Henner.Kollmann@gmx.de)
    taglib_docu.xml:
       added formatClass to tableData and queryData
    EmbeddedData.java
       added formatClass attribute. Class given in formatClass attribute will be loaded through reflection and will be
       used for formatting the output. Must be derived from org.dbforms.util.PrintfFormat. 
       Default is org.dbforms.util.PrintfFormat.

2003-01-23
(Henner.Kollmann@gmx.de)
    taglib_docu.xml:
        added new field novalue to checkbox and radio tag
    DbCheckboxTag, DbRadioTag:
        corrected problem with storing of values if checkbox is unchecked.
        Will add a hidden input field with value set to the novalue attribute and the same name as the checkbox field
        This value will be stored if checkbox is unchecked.
    ParseUtil:
        Corrected comment of getParameter. The first value will be used if the parameter has multiple values.    
        

2002-11-27
(fossato@pow2.com)
        pluggable events system
        -----------------------
        committed the first version


2002-11-26
(Henner.Kollmann@gmx.de)
    taglib_docu.xml:
        added descriptions extensions to filter attribute in form
        Cleaned up description of destPos, keyToDestPos, keyToKeyToDestPos
        added new tag hasNoRecords
        extended dblink tag
    ConfigServlet.java, DbFormsConfig.java:
        Added SERVLETCONTEXT_REALPATH
    Table.java:
        Added new method getPositionString
     DbForm.java:
        Use Table.getPositionString
     HasMoreRecords.java
        Will now render body if true!
     HasNoRecords.java
        New tag. Same as HasMoreRecords. But with recCount = 0
     DbLinkURL.java
        Added Child, parent stuff, corrected char encoding
     EventEngine.java, GotoEvent.java
        Added Child, parent stuff for DbLinkURL
     Util.java:
        Some more helpers.
        
====================== v1_1_3_pr1 was released ==============================================       
    
2002-11-18
(fossato@pow2.com)
        connectionProviders' connection pool configuration
        --------------------------------------------------
        connection pools managed by Protomatter and Jakarta connectionProviders 
        can be configured via the dbforms-config.xml file


2002-11-18
(Henner.Kollmann@gmx.de)
    some minor bug fixes
    new attribute in for query: distinct. If true query will build select distinct ....

    
2002-11-15
(fossato@pow2.com)
        connectionFactory sources integration
        -------------------------------------
        - created the "src/org/dbforms/conprovider" directory; added the following files:
          - ConnectionFactory.java
          - ConnectionProvider.java
          - ConnectionProviderPrefs.java
          - JakartaConnectionProvider.java
          - ProtomatterConnectionProvider.java
          - SimpleConnectionProvider.java

        - added the following jars to the dependend directory:
          - commons-dbcp.jar           (needed by JakartaConnectionProvider class)
          - protomatter-1.1.8-pre5.jar (needed by ProtomatterConnectionProvider class)


2002-11-15
(Henner.Kollmann@gmx.de)
        Source code formatting party
        ----------------------------
Things that had been done:
    - created a tag on current version v1_1_2c 
    - cleaned up code with jalopy using jarkarta settings
    - added the settings
    - corrected the wrong binary files
    - deleted com.itp sources from the current version
    - deleted org.dbforms.doc.html (old stuff is now in doc!)
    - inserted Mark Dimons changes for Tomcat 4.1.1
    - removed all release() methods
        
2002-11-14
(Henner.Kollmann@gmx.de)
   extended build.xml with new target dist: will build a whole distribution with
      - javadoc, taglib doc, devgui doc
      - devgui.bat, devgui.sh for the current version
      - jar and tld file


2002-11-09
(fossato@pow2.com)
        Multiple Connection support and connectionPool factory:
        -------------------------------------------------------
        added "multiple connection support" stuff by Bradley M. Handy (bhandy@arbor.edu)
        and connectionPool factory by Power Of Two S.r.l. (fossato@pow2.com)
            org/dbforms/ConfigServlet.java
            org/dbforms/Controller.java
            org/dbforms/DbFormsConfig.java
            org/dbforms/taglib/DbFormTag.java
            org/dbforms/taglib/DbGetConnection.java
            org/dbforms/taglib/EmbeddedData.java
            org/dbforms/util/DbConnection.java
              
        added the dependency jar library:
            depends/pow2ConnectionFactory.jar

        added the "dbConnectionName" attribute into the etc/taglib_docu.xml file
        to the following elements:
            dbform
            tableData
            queryData
            getConnection
            blobContent

        File servlet and the related BlobContent tag:
        ---------------------------------------------
        Filse servlet: 
        fixed a null pointer exception for Disk Blob data management 
        (generated when the selected file does not exist) and used 
        "extract method" refactoring to get "readDiskBlob" method to handle
        Disk Blob data and "readDbFieldBlob" to handle Database Blob data;
              org/dbforms/util/FileServlet.java 
        
        BlobContent tag: 
        added the "defaultValue" attribute (useful for Disk Blob data)
              org/dbforms/taglib/DbBlobContentTag.java
              etc/taglib_docu.xml

        Format attribute for DbLabelTag:
        --------------------------------
        moved the "format" attribute and the related accessor methods from DbDateLabelTag 
        to its superclass: DbLabelTag;
        format attribute for DbLabelTag is initialized to NULL;
        format attribute for DbDateLabelTag is initialized to DbFormsConfig.getDateFormatter(),
        using the date format specified into the xml config file.
              org/dbforms/taglib/DbDateLabelTag
              org/dbforms/taglib/DbLabelTag
              etc/taglib_docu.xml

2002-11-07
(Henner.Kollmann@gmx.de):
    added properties to DbConnection:
    <connection>
        <property name="charSet" value="8859_1"
    </connection>
    Will be used as 
           con = DriverManager.getConnection(name, properties);

2002-11-07
(Henner.Kollmann@gmx.de):
    dbforms/ConfigServlet.java
        Extended with query syntax, cleaned up connection stuff
    dbforms/DbFormsConfig.java
        Added query stuff
    dbforms/Field.java
        New property expression, needed for query stuff
    dbforms/FieldValue.java
        form filter will work with null, not null now
        use expression in getWhereClause and getWhereEqualsSearchClause
        moved getOrderClause to table
    dbforms/Query.java
        New class, derived form Table to support query syntax in dbforms-config.
    dbforms/Table.java
        Insert query stuff
    dbforms/event/DeleteEvent.java
        Insert query stuff
    dbforms/event/InsertEvent.java
        Insert query stuff
    dbforms/event/UpdateEvent.java
        Insert query stuff
    dbforms/taglib/DbFormTag.java
        form filter will work with null, notIsNull now
        SYNTAX: fieldname ISNULL
            fieldname NOTISNULL
    dbforms/util/MessageResources.java
        added public static String getMessage(HttpServletRequest request, String msg)
    dbforms/util/ParseUtil.java
        added public static boolean hasSearchFields(ServletRequest request)

2002-11-5 (dikr):

New classes to model foreign key references:
  org.dbforms.ForeignKey
  org.dbforms.Reference

Devgui has been extendended:
  Foreign Keys are automatically detected,
  the corresponding foreign-key and reference
  tags are written into dbforms config file
  (updated  XMLConfigGenerator.java ).

2002-11-4 (dikr):

Added Files:
  DbFormsTags_Frame.html:
        Frame version of taglib reference doc
  etc/tldoc2html_toc.xsl
        new xsl stylesheet to generate navigation
        page for taglib html reference

Modified Files: build.xml

Task 'generate_taglib_htmldocs' has been extended
to generate two more HTML pages:

 - one navigation page containing all tags
   in same order as within source file
   (semantic order)
 - one navigation page containing all
   tags in alphabetical order

The new pages will be embedded within new frame version
of taglib reference doc/html/DbFormsTags_Frame.html.

Wednesday, October 30, 2002:
(Henner.Kollmann@aucos.de):
        - taglib_docu.xml:
        New tag search, searchCombo
        extend doc for select tag
    - DBMessageTag.java
        Write parameter and text if text is not found in the resource file
    - DBFormTag.java
        correct bug if search algorithm field is not found!
    - DBSelectTag.java
        Changed behaviour if fieldName is not a valid field of the table. 
        In this case the fieldName would be rendered. 
        So it would be possible to create select's with free fieldNames!
    - DBSearchTag.java
        New tag to simplify search fields
    - DBSearchTagCombo.java
        New tag to simplify search fields with combos
    

2002-10-22, 2002-10-23 (dikr):

Added Files:

tldoc2html.xsl:
  Initial release of XSL stylesheet to
  generate HTML reference documentation
  from taglib_docu.xml.
tldoc2xsl-fo.xsl:
  Initial release of XSL stylesheet to generate a
  XSL Formatting Objects document from taglib_docu.xml.
  The result of this transformation
  can be converted by a Formatting Objects Processor like
  Apache FOP (http://xml.apache.org/fop) to PDF, PS and
  lots of other formats.

Modified Files:
build.xml

 - Added ant task 'generate_taglib_htmldocs' to generate
   HTML reference documentation from taglib_docu.xml using
   new stylesheet etc/tldoc2html.xsl.

   Simply do a

      ant generate_taglib_htmldocs

   and you will (hopefully) find the result as file
   doc/html/DbFormsTags.html.
   
 - Added ant task 'generate_taglib_pdfdocs' to generate
   PDF reference documentation from taglib_docu.xml using
   new stylesheet etc/tldoc2xsl-fo.xsl. This task
   first generates the xsl-fo document, then Apache Formatting
   Objects Processor FOP (http://xml.apache.org/fop/index.html)
   is used to create a PDF file out of the xsl-fo file.
   I used Version FOP-0.20.4, older versions may make some problems
   because some attributes seem to be renamed. After installing FOP
   and before calling 'ant generate_taglib_pdfdocs' you have to
   set environment variable FOP_HOME to location of FOP installation

taglib_docu.xml:

   Some minor changes within summary and info
   attributes (containing comments) to make the
   result of the transformation of this file
   to HTML and PDF look better.

Tuesday, October 22, 2002:
(Henner.Kollmann@aucos.de):

        - taglib_docu.xml:
        extended message tag
    - DBMessageTag.java
        extend with parameters
    - SQLUtil.java
        createAppropriateTimeStamp
    - FieldValue.java
        new searching
    - DBFormTag.java
        new searching
                          
2002-10-16 (dikr):

viewTable.xsl :

patch to eliminate nullpointer exception
in case of empty result sets when searching

2002-10-14 (dikr):

2 patches contributed by Carlos Anjos for devgui.sh:

- figure out automaticaly the DBFORMS_HOME if not already set
- change of the dir where the jar is ("dist" and not "lib")

Sunday, October 13, 2002:
(Henner.Kollmann@aucos.de):

        - taglib_docu.xml:
        added new tag DbPos
        added onSubmit for dbForms
    
    - DbPosTag.java:
        renders a position to use with keyToDestPos.
        This is the same string wich would be used as 
        value in the DbassociatedRadioTag.
    - FieldValue.java:
        extend search algorithm with 
            WEAK_START, WEAK_END, WEAK_START_END
            results in like '%search', 'search%', '%search%'
    - dbForms.java:
        added onSubmit support
        extend search algorithm with 
            WEAK_START, WEAK_END, WEAK_START_END
            results in like '%search', 'search%', '%search%'
    - DbFormsValidatorUtil.java 
        Catch errors while getXMLErrorMessage
    - Table.java 
        getFieldValuesFromPositionAsHt: position.length() maybe 0
        createOrderFieldValues        : use the default order if result.size == 0, 
                        not only if result == null 
                        This could happens if  all parameters 
                        with sort_  are set to none
    - DbAssociatedRadioTag.java 
        set checked=true for the first row
    - GotoEvent.java 
        correct processEvent: postion maybe of size == 0
                
2002-10-8 (dikr):

Modified Files: DbFormTag.java DbGetConnection.java

removed ; after return statement (compilation errors with jdk14)


Thursday, September 19, 2002:
(kraemer@rz.uni-kiel.de):
I have tried to integrate several enhancements contributed
by the dbforms community for devgui itself and the xsl stylesheets
used by devgui

----------------------------------------------------------------

 - Enhancements to XSL stylesheets (all contrib. Sebastian Bogaci, special 
       thanks also for further help and discussion)

    - More usage of extended stylesheet dbforms.css to make generated
      JSPs more configurable. A lot of attributes like color, background color,
      fonts etc. can now be easily changed at a central place.
      If you don't like the appearance of generated pages, it is now easy
      to change it.
   
    - Parameter multipart="true" is automatically set when fields of
      type 'blob', 'image' or 'diskblob' are detected within a table.

    - Made generated pages now really work when schema name
      is included in table name by substituting '.' in file and
      variable names by an '_'. Example: currentRow_schmema1.table1 is
      an illegal variable name in Java, must use currentRow_schmema1_table1 

    - First integration of JavaScript Calendar written by 
      Robert W. Husted to edit date fields. See pages
      http://developer.iplanet.com/viewsource/husted_calendar/husted_calendar.html
      and http://jscal.sourceforge.net/ 
      for details of this application. Integration into dbforms stylesheets 
      by Sebastian Bogaci. The calender is not included in generated pages by default, 
      activation can be done by setting a (new) checkbox within devgui
      on xsl transformation panel.

      See also (soon) dbforms documentation about the calendar

 - Enhancements to DevGui:

    - Automatic detection of auto-incremented (aka identity) fields
      for some databases (contrib. Sebastian Bogaci). This information
      is written to generated xml files by setting attribute autoInc="true".

      Currently we (hope to) have support for MySQL, DB2 (Sebastian) and
      Sybase (thanks to Eric Pugh). If you know how to add support for
      more systems, please send a mail to dbforms-interest mailing list.
 
    - New checkbox to include JavaScript calendar in JSPs generated by
      xsl transformations (see above).
 
    - New checkbox to write standard names for unknown field types to generated
      dbforms-config.xml file. 
   
    - Now really fixed bug that could lead to problems when having tables
      with same name in different schemas.

    - Date format inside dbforms config file can now be set in DevGui.

    - Added Look & Feel Menu.
      
 - New Readme file for DevGui 

 - DevGui can now be startet without Gui to regenerate a dbforms config file.
   This can be done from command line as well as from a running Java program.
   To do so, you have to:

     - create a property file containing connection information etc
       This may be done in a standard gui session of DevGui
     - call it via:
     
       java org.dbforms.devgui.DevGui createconfigfile <propertyfilename>
     
       or
     
       java org.dbforms.devgui.DevGui createconfigfile <propertyfilename> <outputfilename> 
     
     Here is an example:
     
     $ java org.dbforms.devgui.DevGui createconfigfile /home/sweethome/dbex.props outout.xml
     
   If the outputfilename is not set on command line, it will be taken from
   property file. Normally the property file should be once generated in
   a gui session. It can later be used in command line sessions to regenerate
   the dbforms-config.xml file after changes to database.
     
   It is also possible to call the main() method of class DevGui from
   within a running java program like in
     
       String[] pars = {"createconfigfile","/home/sweethome/dbex.props"};
       org.dbforms.devgui.DevGui.main(pars);
     
   The other DevGui functionality (XSL transformation) can currently not be called
   via command line, maybe later. 



__________________________________________________________________________________________________
__________________________________________________________________________________________________

Tuesday, May 21, 2002
DbForms version 1.1.2
Grunikiewicz.philip@hydro.qc.ca


These enhancements are the direct result of your feedback and Eric Beaumier's hard work.  


New features
---------------------------------


textField  - tag
password - attribute
--------------------

If 'password' attribute is set to true, the textField tag will render a 'password' type (html) 
input tag.  This allows developers, to make available, visually encrypted input field.



localeKey - attribute
Session scope (web.xml)
-----------------------

Dbforms will first look in the Session object to see if a locale object is available. If not, it
will retrieve a locale from the request object.

The attribute used to retrieve the locale object from the session can be specified by the developer.  
(The locale object may have been placed in a given attribute by another framework [ie: Struts]).  
To specify the attribute to use, set the following:

In web.xml

<init-param>
    <param-name>localeKey</param-name>
    <param-value>AttributeNameWhereOtherFrameworkStoresLocaleObject</param-value>   
</init-param>

If 'localeKey' is not set by the user, DbForms will store, for future reference, the locale object
in the attribute named 'org.dbforms.LOCALE'.


Bug Fixes and general maintenance
---------------------------------

The generated 'javascriptValidation' methods now support more complex (db)forms. (Multiple data rows, insert mode)
The generated 'javascriptFieldsArray' method has also been enhanced to support more complex (db)forms.

__________________________________________________________________________________________________
__________________________________________________________________________________________________

Friday, May 3, 2002
DbForms version 1.1.1
Grunikiewicz.philip@hydro.qc.ca


These enhancements are the direct result of your feedback and Eric Beaumier's hard work.  


New features
---------------------------------


dbform, input  - tags
readOnly - attribute
------------------------

Rendering of read-only html widgets. Specify entire form or field by field.


input - tags
readOnlyStyleClass - attribute
-------------------------------

Enables developers to use a particular cascaded stylesheets (css) 'style' if input field is 
readOnly.

Exemple:

<db:dbform  ... readOnly="<%=readonly%>" ... > 
     <db:textField  fieldName="field1" styleClass="class1" readOnlyStyleClass="class1.readonly" />
</db:dbform>


javascriptArray  - tag
----------------------

This tag was added to allow the generation of a javascript array from EmbeddedData.

Exemple :

 <db:javascriptArray name="arrServerMod">
         <db:queryData  name="server_models_js"  
                                  query="SELECT id, cat_id, name FROM server_models"/>
 </db:javascriptArray>

Result : 


 <SCRIPT language="javascript">
     var arrServerMod = new Array();
     arrServerMod[0] = new Array('1','1','IBM 3090');
     arrServerMod[1] = new Array('2','1','IBM 4300');
     arrServerMod[2] = new Array('3','1','IBM 9121');
     arrServerMod[3] = new Array('4','1','Unisys A-Series');
     arrServerMod[4] = new Array('5','1','Unisys 2200-Series');
     arrServerMod[5] = new Array('6','2','IBM AS/400');
     arrServerMod[6] = new Array('7','2','Unisys 5000');
 </SCRIPT>


deleteButton  - tag
confirmMessage - attribute
--------------------------

This attribute will generate a javascript message asking if the user really wants to delete this 
entry.  If the 'captionResource' attribute of the (db)Form is set to true, the message can be 
resolve from a ResourceBundle (ref: I18N)

Exemple:

<db:deleteButton 
    caption="button.delete" 
    followUp="/bugs_list.jsp" 
    confirmMessage="bugsForm.delete.confirm" /> 


Note: Certain Netscape browsers will not support this feature when using an image-flavor delete 
button.


StaticDataItem  - tag
--------------------------

Added I18N compatibility for StaticDataItem tags. Now, value can be resolved via a given 
ResourceBundle.

  <db:staticData name="data_bugstate"> 
        <db:staticDataItem key="0" value=" bugsForm.status.0"/> 
        <db:staticDataItem key="1" value=" bugsForm.status.1"/> 
        <db:staticDataItem key="2" value=" bugsForm.status.2"/> 
  </db:staticData> 
  
  Here, bugsForm.status.x will be resolved according to user's current locale
  (locale found in request object). 
  
  

Checkbox, Radio - tags
growSize - attribute
----------------------

Allows a developer to limit the number of elements per row by generating <TABLE><TR><TD> 
html tags.

Exemple: 

<db:radio fieldName="bugstate" growSize="3"> 
     <db:staticData name="data_bugstate"> 
           <db:staticDataItem key="0" value="bugsForm.status.0"/> 
           <db:staticDataItem key="1" value="bugsForm.status.1"/> 
           <db:staticDataItem key="2" value="bugsForm.status.2"/> 
           <db:staticDataItem key="3" value="bugsForm.status.3"/> 
           <db:staticDataItem key="4" value="bugsForm.status.4"/> 
           <db:staticDataItem key="5" value="bugsForm.status.5"/> 
     </db:staticData> 
</db:radio>



isWebEvent - tag
----------------

Allows a developer to detect which type of event is being processed by the DbForms controller.  
The following events are currently available within dbForms:

    navFirst, 
    navPrev, 
    navNext, 
    navLast, 
    navNew, 
    noop, 
    goto, 
    insert, 
    update, 
    delete


Exemple:

 
    <db:isWebEvent event="navfirst" value="true"> < /FONT> 
         <h4>navFirst event throwed</h4> 
    </db:isWebEvent>


    You can even nest this tag within another tag...

    <db:isWebEvent event="delete" value="false"> </FONT>  
         <h4>it's not a Delete event </h4> 
                <db:isWebEvent event="update" value="false"> </FONT>  
                     <h4>and not Update event</h4>  
                </db:isWebEvent> 
    </db:isWebEvent>

  

label, dateLabel, dataLabel - tag
nullFieldValue - Attribute
---------------------------------

If the value (retrieved from the database) is null, allow the user to replace the text to display
by a custom value.  May be used in conjunction with dbForm's I18N support.

Example:

    <db:label fieldName="name" nullFieldValue="msg.unknownUser"/>
 


Bug Fixes and general maintenance
---------------------------------

When generating a javascript validation method (javascriptValidation="true"), the method name 
is now generated in the proper case [first character uppercase].

Render onClick attribute only if javascript validation method exists.

Added logging (warning) of 'root' exceptions (i.e: 'Interceptor class not found' instead of 
'cannot connect'!)

Allow customEntry attribute (Select tag) to include dots(.) in its description value. 

Updated example applications 

__________________________________________________________________________________________________
__________________________________________________________________________________________________

Friday, April 19, 2002
DbForms version 1.1
Grunikiewicz.philip@hydro.qc.ca

New features
---------------------------------


Introduced support for Internationalization (i18n). (Contrib. E.Beaumier)

Incorporated Apache's Commons-Validator framework for server-side and client-side validations. (Contrib. E.Beaumier)

Upgraded struts digester to Commons digester. (Contrib. E.Beaumier)

Reworked Bugtracker application - incorporated i18n and Validation examples.

Reviewed dbForms User Guide v1.1

*** NOTE ***

Version 1.1 of DbForms has been upgraded to use the Apache commons framework.  
This framework required Java XML Parser (JAXP) v1.1.  Older Web containers 
(such as Tomcat v3.2.x) are still using JAXP v1.0 technology and are therefore 
incompatible.
Friday, April 5, 2002
DbForms version 1.07
Grunikiewicz.philip@hydro.qc.ca

Bug Fixes and General Maintenance
---------------------------------


Attributes 'style' and 'styleClass' are now available for use in the select tag.

Better handling of timestamp, date and null values in creation of prepared statement parameters. (Contrib. S.Borghi)

Removed attribute 'disableCache' from StaticData tag (in dbforms.tld).

Corrected html link in DevGui help file.


------------------------------------------------------------------------------------

navNewButton - tag
destTable - attribute

Allow navNewButton tag to specify a table for insertion other than the parent table. 
(Contrib. John Madsen)

Example:

  <db:dbform tableName="company"...

	<db:navNewButton caption="Add new Customer" followUp="new_cust.jsp" destTable="customer"/>

------------------------------------------------------------------------------------

tableData, queryData - tag
format - attribute

Specify a format to be used in concatenating several display fields.  When more then one (1) field 
is shown, the fields are, by default, separated by a comma. The 'format' string should begin, 
and contain 's' characters (s = string) and must contain the same amount of 's' characters as 
the number of display fields. (contrib. Shawn)

Example:

     <db:queryData 
          name="aQuery"
          format = "s, s / s"
          query="Select city_id, city_id, city_name, 
          city_state from Cities"/>

Result ->  014, Naples / Florida


__________________________________________________________________________________________________
__________________________________________________________________________________________________

Friday, March 22, 2002
DbForms version 1.06
Grunikiewicz.philip@hydro.qc.ca

Bug Fixes and General Maintenance
---------------------------------

Corrected problem with sorting - a JSP which contains a sort tag may have had problems finding
it's defined source path. (Contrib. D.Kraemer)

The diskblob encoding attribute (in config file) was not correctly being interpreted.

Tags dateLabel and dateField now take their default (date) format from the 
config file (dbforms-config.xml).  (Contrib. S.Borghi)

Depending on the JDBC drivers being used, dates may be returned as timestamps.  
Code has been adapted appropriately.  (Contrib. S.Borghi)

Modification to allow dbForms, after an insert operation, to navigate to the
last record inserted.  (Contrib. S.Borghi)

Corrected problem with custom entry in Select tag when in redisplayFieldsOnError mode.


DevGui Enhancements  (Contrib. D.Kraemer)
-----------------------------------------

- new config file panel with more options:

  - radio buttons enables a user to select [all] catalogs, [all] schemas, and/or [all] table 
    name pattern.
  - combo boxes can be loaded with available catalog and schema names. Still possible
    to manually enter values.
  - meta data may be set to be read in transaction mode as opposed to autocommit mode (workaround Ingres II) 
  - catalog and schema names may be optionally included in table name. 

- tab placement is now in the upper-left region, needed more room for new options.

- display a warning message when trying to exit program without saving changes.

- display a warning message when trying to generate an (xml) config file without having first 
  defined the output file name.

- added a generalized help view.


__________________________________________________________________________________________________
__________________________________________________________________________________________________

Friday, February 22, 2002
DbForms version 1.05
Grunikiewicz.philip@hydro.qc.ca

Bug Fixes and General Maintenance
---------------------------------

Fixed spelling mistake in DbRadio tag when interpreting growDirection values.

Corrected formating error in in DbBaseHandlerTag to support byte arrays (Contrib. D.Kraemer)

Added unique identifiers in Button tags to allow for multiple buttons of the same type
to co-exist - resolves followUp mix up.

Corrected a problem in dispatching to followUpOnError, if this attribute is not specified. (Contrib. D.Kraemer)

Removed the 'dependend' directory from the distribution packages in order minimize required disk space.
The required jar files can be found on the dbforms website.



__________________________________________________________________________________________________
__________________________________________________________________________________________________

Friday, February 8, 2002
DbForms version 1.04
Grunikiewicz.philip@hydro.qc.ca

Bug Fixes and General Maintenance
---------------------------------

nullPointerException in nested-forms using whereClause attributes. (Contrib. Dirk Kraemer)

parsing error when specifying multiple OrderBy entries. (separated by commas)

Table definitions must have a least one key defined, added an error message (log4j) to help 
in debugging these types of errors.

Support for bounded navigation (Contrib. Luca Fossato)

Proper DB connection cleanup in Controller class. In our development, we sometimes set our 
connection object to autoCommit=false. This allows us to create transactions (dbForms + our 
own native JDBC code).  In case of an exception, we need to rollback and re-initialize the 
connection object.

Removed hasNoErrors tag. Bad design! Functionality now provided by followUpOnError attribute 
in dbform and button tags.


dbform, (Button) - tags
followUpOnError - Attribute
---------------------------

dbForm (and button) tags can now specify two different followUp pages. If an error occurs in 
processing the submitted form, the controller will display the page specified by the 
followUpOnError attribute (optional attribute) else it will display the page defined in
the followUp attribute.  Note that buttons can override followUp (and followUpOnError) settings 
defined in the dbform tag.


__________________________________________________________________________________________________
__________________________________________________________________________________________________

Friday, February 1, 2002
DbForms version 1.03
Grunikiewicz.philip@hydro.qc.ca


(Disk) BLOB support in textArea tag
-----------------------------------

Tags - textAreaForBlobs and blobContent were added to enable developers to
edit the contents of files stored in a (disk)-blob via a textArea input.

Example:

	<db:textAreaForBlobs 
		fieldName = "filePath"
		renderBody = "true"
		suffix = "jsp"
		rows = "15"
		cols = "60"
		wrap = "virtual">
		
		<db:blobContent fieldName = "filePath"/>
	</db:textAreaForBlobs>
	
	Note:
			renderBody attribute must be set to true.
			fieldPath is of type DISKBLOB.
			
Contributed by Joachim Peer


getConnection - tag
-------------------

In order to assure the proper closing of connection objects, this tag
is now divided into two parts.
 
EXAMPLE
(using Jakarta dbTags)

             <db:getConnection id="myConnection">	<!-- Open connection -->

	             <sql: statement id="stmt" conn="myConnection">
	                 <sql:query>Select * from Table</sql:query>
	                 <sql:resultSet id="rs">
	                       Value: <sql:getColumn position="1"/>
	                 </sql:resultSet>
	             </sql:statement>
             </db:getConnection>		<!-- close connection -->



digesterDebugLevel setting in Config servlet
--------------------------------------------

Now that log4j handles all console output, you would think that by setting log4j
to display fatal errors only, your console would be virtually empty.  Well, no!
The current version of dbForms used the struts digester class to parse xml files
at startup.  This class sends info to System.out.  The following setting (in web.xml)
can be used to specify (to the digester) the amount of detail to display.

Example:


 <servlet>
	<servlet-name>config</servlet-name>
	<servlet-class>org.dbforms.ConfigServlet</servlet-class>
      
	<init-param>
	      <param-name>log4j.configuration</param-name>
	      <param-value>/WEB-INF/log4j.properties</param-value>
      </init-param> 
      
	<init-param>
	      <param-name>digesterDebugLevel</param-name>
	      <param-value>0</param-value>	<!-- no debug(0) to (10) all info -->
    </init-param>  
  </servlet>


Bug Fixes and General Maintenance
---------------------------------

Replaced all System.out and System.err method calls by equivalent log4j methods.
Reviewed DbForm's database connection management and cleaned it up.
Removed a reference to the login password in the connection's toString() method.


Thanks to all who provide feedback and suggestions...

__________________________________________________________________________________________________
__________________________________________________________________________________________________

Wednesday, January 23, 2002
DbForms version 1.02
Grunikiewicz.philip@hydro.qc.ca

Bug Fixes and General Maintenance
---------------------------------

Corrected the well-formed'ness of the dbforms.tld file.
Added two new attributes to the various input tags to allow for validation.  More to come in future releases
Fixed a problem in how dbform's allocates a database connection (Contributed by Dirk Kraemer).
Error exceptions which are thrown, and are empty, are no longer displayed.


DbForms-config.xml
------------------

Enhancement contributed by Stefano Borghi

Currently, a date value sent to the database is converted into the yyyy-MM-dd format.  This is fine
if you have configured your database to support this format but chances are, you may need to 
use a different format.  This format can now be set in the dbforms-config.xml file as follows:

<dbforms-config>

	<date-format>dd/MM/yyyy</date-format>
	

	<table name=...	

The format you specify, is the format in which you are expected to input your dates.  A conversion
takes place within dbForms to convert your date value to the format expected by your database.  If
you wish to DISPLAY dates in a format other then yyyy-MM-dd, then you are required to use the 
'format' attribute as documented in the user manual.



__________________________________________________________________________________________________
__________________________________________________________________________________________________

Friday, January 18th, 2002
DbForms version 1.01
Grunikiewicz.philip@hydro.qc.ca

Bug Fixes and General Maintenance
---------------------------------

Fixed up the distribution packages (missing files)
Cleaned up the web.xml file
Optimized the readability of the dbForms.tld file.
Corrected a problem in the DbLinkURL tag concerning contextPath
Upgraded DevGui to xalan version 2
Updated the information files (readme, CommonMistakes, etc...)

Contributions
-------------

Thank you to Jeff Kunkle, Dirk Kraemer, Ron Smith and Gemes Tibor for their input and contributions in this latest release.


__________________________________________________________________________________________________
__________________________________________________________________________________________________

Tuesday, January 15th, 2002
DbForms version 1.0
Grunikiewicz.philip@hydro.qc.ca


dbform - tag
tableList - Attribute

This attribute (in conjunction with the whereClause attribute) allows a developer to access fields from multiple tables.  
This can be useful when your database does not support views or you need to retrieve fields from various tables for display 
purposes only.

In the dbForms-config.xml file, you must create an entry which contains references to the Table/Field combinations you wish to 
access.  The table name you use is irrelevant.

The value specified in the tableList attribute is used to specify the 'from' part of the Select query.  Hence the name: table list.

The conditions used to define the table associations are specified in the whereClause attribute.( along with other conditions and orderBy)

Multiple table access is valid only for data retrieval. Insert, Update, and Delete are not supported.

EXAMPLE

 In dbForms-config.xml:

       <table name="AnyName">
           <field name="Table1.id" fieldType="VARCHAR2" isKey="true"/>
           <field name="Table2.id" fieldType="VARCHAR2" isKey="true"/>
           <field name="Table1.fieldName" fieldType="VARCHAR2"/>
           <field name="Table2.OtherField" fieldType="NUMBER"/>
       </table>

 In jsp:

       <db:form tableName="AnyName" 
       		maxRows="*"  
       		followUp="next.jsp" 
       		tableList="Table1,Table2" 
       		whereClause="Where Table1.id = Table2.id">
       		
            <db:header/>
            <db:body>
                <db:textField fieldname="Table1.fieldName"/>
                <db:textField fieldname="Table2.otherField"/>
            </db:body>
            <db:footer/>
        </db:form>


Resulting Query:    

SELECT Table1.id, Table2.id,Table1.fieldName,Table2.otherField FROM Table1,Table2 WHERE Table1.id = Table2.id

------------------------------------------------------------------------------------

dbform - tag
whereClause - attribute

Replaces the filter attribute in situations where the where clause is more complex.  Allows a developer to specify a free 
form conditional clause (where Clause + order + etc)

EXAMPLE:

<% 
	StringBuffer whereClause = new StringBuffer();
whereClause.append("WHERE (FIELD1>'25' AND FIELD1<'50' ) OR FIELD2 NOT NULL ORDERBY FIELD7");
%>

<db:dbform
	table="TABLE1"
	followUp="this.jsp"
	whereClause = "<%whereClause.toString()%>">


------------------------------------------------------------------------------------

dbform - tag
action - attribute

The action attribute in the dbform tag allows a developer to have a dbform submit to something other then the control servlet.  
This can be useful when dbForms is used in read-only mode (such as a view)

EXAMPLE

<db:dbform
	table="TABLE1"
	followUp="this.jsp"
	action = "/exemplesWebi/servlet/ca.qc.hydro.myServlet">

------------------------------------------------------------------------------------

dbform - tag
filter - attribute

Can now also handle the <> (notNull) operator.

EXAMPLE:

<% 
	StringBuffer filter = new StringBuffer();
	filter.append("FIELD1<>5");
%>

<db:dbform
	table="TABLE1"
	followUp="this.jsp"
	filter = "<%filter.toString()%>">



 ------------------------------------------------------------------------------------
hasNoError - tag	[REMOVED - ref v1.04]

 
Tag which is used to verify if an error has occurred.  In cases where there are no errors and the page is in re-display mode 
(calling page = current page), redirect to the specified url. Attribute name is used to specify the request object attribute which 
was defined to hold errors (see xmlError tag).

EXAMPLE
       
      <db:hasNoError name="errors" redirect="other.jsp"/>

        
------------------------------------------------------------------------------------

getConnection - tag		[NEW IMPLEMENTATION - ref: v1.03]

Tag which provides a jdbc connection object. 

Allows other tags (and/or java scriptlets) to obtain a connection via the same settings as defined in dbForms.  If dbForms has not 
already established a JDBC driverManager, this tag will be responsible for setting it up (using dbForms-config.xml settings) and 
thereafter making it available to dbForms.
 
The id attribute is used to specify the page context attribute in which the connection object can be referenced.
 
EXAMPLE
(using Jakarta dbTags)

             <db:getConnection id="myConnection"/>

             <sql: statement id="stmt" conn="myConnection">
                 <sql:query>Select * from Table</sql:query>
                 <sql:resultSet id="rs">
                       Value: <sql:getColumn position="1"/>
                 </sql:resultSet>
             </sql:statement>

------------------------------------------------------------------------------------
hasMoreRecords - tag

Tag used to determine the amount of data returned and render a message if necessary. 
If the result Set contains >=  the number of elements specified, display the appropriate message (XML error file).  
As with error messages, arguments may be passed to the message string via a comma delimited string.

EXAMPLE

 <db:dbform table="TABLE" 
maxRows="200" 
followUp="next.jsp">
        <db:header>

        <!-Message: Resultset too big, displaying first 200 records -->
        <db:hasMoreRecords count="200" message="English-001:200" />
        </db:header>

 </db:dbform>

 ------------------------------------------------------------------------------------

label, dataLabel - tags
maxlength - attribute

Allows a developer to limit the amount of characters displayed on screen.  If the label to display exceeds the limit, 
trim and display '...'

EXAMPLE

      <db:dataLabel fieldName="ABC" maxlength="10">
      </db:dataLabel>

 ------------------------------------------------------------------------------------

updateButton, deleteButton, insertButton, gotoButton, NavigationButtons - tags
border - attribute

Allows a developer to set the html border attribute.

EXAMPLE

      <db:updateButton caption="Update" border="1"/>

 ------------------------------------------------------------------------------------

select - tag
customEntry - attribute

Allows the possibility of adding an entry in the select list which is independent of data retrieved via tableData, queryData or 
staticData.  Arguments to this tag are as follows:

           Key,Description,boolean (default selection?)


EXAMPLE
    
    <db:select fieldName="Column1" customEntry="001,,true">
    </db:select>


 ------------------------------------------------------------------------------------


textField, textArea, dateField, file, radio, checkbox, select - tags
id - attribute

added an "id"-attribute to many of the Tag handlers -> improving interoperability with JavaScript (thanks to L. Fossato)
Note: Not supported by all browser!

EXEMPLE:

	<db:textField fieldName="FIELD1" maxlength="15" id="InputField1" />


 ------------------------------------------------------------------------------------
tableData - Tag
orderBy - attribute

orderBy is now supported in tableData queries.  (thanks to Martin Kraus & collegues)

EXEMPLE:

	<db:select name="myQuery" fieldName="FIELD3">
		<db:tableData
			foreignTable="TABLE7"
			visibleFields="FIELD1,FIELD3"
			storeField="FIELD3"
			orderBy="FIELD10"/>
 	</db:select>


 ------------------------------------------------------------------------------------


XmlErrors - Tag 

In order to manage error messages more efficiently, we introduced the new XmlError tag.  Instead of hard coding your error messages 
within your interceptors, you can now define them in an xml file which is loaded at application start-up (in the exact same manner as 
the dbForms-config.xml file!)  Furthermore, messages may be stored (and retrieved) for any given language.  Here is how it works

Create an xml error file called dbForms-errors.xml with the following structure:

<dbforms-errors>
<error id="001" type="WARN">
  			<message language="Franais">% - Champ est obligatoire%
</message> 
  		<message language="English">% - is mandatory %"</message> 
  </error>
</dbforms-errors>

Replace the errors tag by the xmlErrors tag (in your jsp's).

In your interceptor, throw a ValidationException with the following message construct:

Language-MessageID:parameter,parameter,parameter

Where:
	Language = used to locate which message to return, ends with a dash (-)
	Message ID = error ID used for lookup, ends with a colon (:)
	Parameter(s) = separated by commas, read in sequence, 
replaces placeholders (%) in message

EXAMPLE:

String messageConstruct = "English-001:param1,param2";
throw new ValidationException(messageConstruct);

Note that you may also use this mechanism to intercept error messages which are generated by the database. Ie: Oracle throws the following message: ORA-0001: blah blah blah


<dbforms-errors>
<error id="0001" type="WARN">
  			<message language="ORA">Oracle message: %
</message> 
  </error>
</dbforms-errors>
  

 ------------------------------------------------------------------------------------

MultipleValidationException

It is now possible to accumulate error messages while validating a form in a dbForms interceptor class.  
This is useful in situations where many fields are validated and you wish to return several errors instead of 
just the first occurrence.

In the validation process, when an error occurs, simply instantiate a new exception object and store it into a vector.  
Do not throw this exception!

Once the validation process has completed, throw an instance of the MultipleValidationException class and pass 
the vector as an argument to its constructor.  

Note that this functionality is dependant on using the xmlError tag.
 
EXAMPLE

public int preUpdate(HttpServletRequest req, 
                     Hashtable fieldValues, 
                     DbformsConfig conf, 
                     Connection con) throws ValidationException
{
    Vector errors = new Vector();

    // Validate, if error
    errors.add(new SQLException("English-001:param");

    // More validations, errors!
    errors.add(new SQLException("Franais-003:param,param");

    if(!errors.isEmpty)
       throw new MultipleValidationException(errors);
}

Others changes

	changed taglib descriptor: set all attributes to RTEXPRVALUE=TRUE so every property can be set during runtime:

<%  String max= ... %>  
<db:dbform tableName="test" maxRows="<%= max %>"


Proper DB connection cleanup in Table class. In our development, we sometimes set our connection object to autoCommit=false. 
This allows us to create transactions (dbForms + our own native JDBC code).  In case of an exception, we need to rollback and 
re-initialize the connection object.


______________________________________________________________________________________________________
__________________________________________________________________________________________________


Wed, 26-Sep-2001

* included contribution by Philip Grunikiewicz:

1. Bypass Navigation (changed DbFormTag.java , DbForms.tld)

Added a new attribute in the form tag to allow a developer to bypass navigation (i.e. bypassNavigation="true"): 

Currently, when we set maxRows to anything else but *, dbForms create a special query to be able 
to navigate to the next (or previous) set of related data.  The resulting query is sometimes quite complex and is long to execute.
If we are NOT going to use navigation, eliminate the creation of, and execution of "fancy!" queries! 

Example:  We are setting maxRows="201" to avoid having too many records displayed on screen.  If their are more than 200 records found, we simply tell our users to refine their search criterias. 

2. Logical OR possible in dbforms filter attribute (WHERE clause) 
(changed FieldValue.java)

By default, all filter definitions are ANDed together.  I added support for logical OR.  Developers may prefix their filter definition with the '|' symbol.  This was a quick and simple way of adding support for OR! 

Example: 
aFieldVal=3, |anotherField>3 
would produce the following: 
... where aFieldVal=3 OR anotherField>3 
        

3. EmbeddedData caching may be disabled  (changed in EmbeddedData.java)

EmbeddedData is retrieved via the TableData, QueryData or StaticData tags.  These tags are used within other tags (Select, dataLabel, Radio) to retrieve a result set.  By default, this result set is cached in the page and can be retrieved by any embeddedData tag which has been allocated the same name. 
Example: 


                <!-- following is repeated for each record retrieved from the resultset --> 
                <db:select fieldName="id"> 
                     <db:queryData 
                        name ="queryAllDescriptions" 
                        sql="Select Description from LookUp"/> 
                </db:select> 


The example above calls the database only ONCE and caches the result set containg 'descriptions' so that it's data may be used again and again (for each subsequent row).

Sometimes a developer may want to execute the embedded data query for each and every row. i.e. not use the cached result set.  Suppose the 'lookUp' table contains 10000+ of rows, do you really want to cache the resultset or would it be better to build and execute a query for each row?  The query you specify could have a unique whereClause!  To achieve this, you need to be able to disable the caching mechanism.  Hence the disableCache attribute in TableData, QueryData and StaticData tags. 

                <!-- following is repeated for each record retrieved from the resultset --> 
                <% String sql = "Select Description from LookUp where id=" + currentRow_MainTable.get("id"); %> 
                        <db:select fieldName="id"> 
                                <db:queryData 
                                        name ="queryAllDescriptions" 
                                        disableCache="true" 
                                        sql="<%=sql%>"/> 
                        </db:select> 



4. String identifier can be used to specify null object 
(changed in SqlUtil.java)

It is now possible to set the value of a field to null by using the '$null$' string identifier.  The following examples shows how to create a select clause which returns a set of records where field 'Test' is equal to null in the database: 

                <% 
                        StringBuffer whereClause = new StringBuffer(); 
                        whereClause.append("Test="); 
                        whereClause.append("$null$"); 
                %> 

                <db:form 
                        table="aTable" 
                        maxRow="*" 
                        filter="<%= whereClause.toString() %>" 
                        followUp="self.jsp"> 

5.Enhancing ORDERING (ASC/DESC) (partially open)

The orderBy clause usually defaults to ASCending order.A user may add, if we/she wishes the keyword ASC (ascending)  or DESC (descending) to specify a particular direction.Code in this method parses the orderBy clause and finds an occurence of either ASC or DESC.  Suppose your field name is DESCRIPTION! This name contains DESC therefore causing unexpected behaviour.   This bug fix consists of fine-tunning the parsing function to take into  consideration the sequence of parameters: 1-Field 2-Command 

6. several other bug fixes:

DbTextFieldTag          - Fix in redisplayFieldsOnError function.  Tag which 
DbTextAreaTag           - contains overrideValue now conserves its value in 
DbDateFieldTag          - redisplay mode (instead of using overrideValue) 


Wed, 27-Jun-2001:

* included contribution by Philip Grunikiewicz:

  - 2 additional attributes for DbDateFieldTag: hidden, overrideValue


* added Interbase - SQL files for bugtracker and testsuite
  (contributed by Myles McLeod)


* included a first fix for support of JDBC drivers (i.e. ProgressDriver)
  which don't close Statements and ResultSets automatically (during garbage collection 
  - as recommended by sun spec)
  [this work is still in progress]


Wed, 13-Jun-2001:

* included contribution by John Peterson:

  - support for Allaire/Macromedia JRun 3.1
    [ changes in DbBodyTag.doEndTag() ]

Tue, 12-Jun-2001:

* included contributions by John Peterson:

  - support for WebLogic 6: added servlet mappings (control => servlet/control, etc.) to web.xml
  
  - support for browsers without cookies: encoding URLs
 
 
* included contribution by Ernesto Krsulovic:

  - added PostgreSQL - files for bugtracker and testsuite
  
  - fixed a bug in devgui.sh shell script

    

Sa, 02-Jun-2001:

* changed package structure to emphasize the nature of the project: Open Source
  (com.itp.dbforms ----> org.dbforms)
  
  UPGRADING EXISTING APPLICATIONS TO NEW PACKAGE SCHEME:  

  - replace dbforms_v0Xx.jar and dbforms.tld by new version
  
  - change org.itp.dbforms --> org.dbforms in all absolute servlet names in your WEB.XML
        
  - force JSP/Servlet container to recreate and recompile all JSPs containing DbForms tags
  
  - change import statements (org.itp.dbforms --> org.dbforms)
    in all Application-specific Interceptors and recompile them
  

* added SQL files for example application "testsuite_v09" contributed by Marco Azzalini
   
* added improvements contributed by Philip Grunikiewicz:
  - support for automatic formfield-repopulation in UPDATE mode (not just INSERT as before)
  - various enhancements in taglib descriptor

* added enhancement to DevGui:
  - you can now set Catalog, TableName-Pattern and SchemaName-Pattern to generate XML metadata model of your database. 


* added new IMPLICITE SCRIPTING VARIABLE: rsv_tableName

  JSP developers can use this scripting variable inside a DbForms/body element to determine
  the current value of any given field
  
  EXAMPLE:
  if we want to print out a string representation of the current value of the field "reporter" in table "bugs", then we would write:
  
  <%= rsv_bugs.getField("reporter") %>  

  we could also write:
  <%= rsv_bugs.getFieldAsObject("reporter") %>

  the difference between getField(String) and getFieldAsObject(String):
  
  -> getField always returns a String (as long as the fieldname is correct), even it the underlying data in the database has the value NULL.
  -> getFieldAsObject returns the Object value as provided by the ResultSet.getObject(int) method. This means NULL values will be returned as null and not as ""-Strings.

 

Fr, 25-May-2001:

* added new attributes "overrideValue" and "hidden" to com.itp.dbforms.taglib.DbTextField

* added ORACLE SQL scripts for the examples

* corrected some errors in the demo applications and added two new JSP pages to 
  testsuite_v09 (customers_pets.jsp, customer_complaints.jsp)


Tue, 15-May-2001:

* fixed a bug which caused an error in Orionserver (tried to remove a connection-object from 
  request, which lead to a nullpointer exception)
  
* added a class com.itp.taglib.DbDateLabelTag which allows to display well formatted Date values easily
  (contributed by Philip Grunikiewicz)
  
Mo, 14-May-2001:

* fixed bug related to com.itp.dbforms.util.FileServlet and ORACLE database

* added enhancement to error-tag (contributed by Philip Grunikiewicz)

Mo, 06-May-2001:

* bundled new distribution, including example-apps

* enhanced XSL stylesheets

* DateTags have now as default formatter the SimpleDataFormat("yyyy-mm-dd"), if the developer
  does not provide a formatter via the "format"-attribute

* renamed taglib.tld => dbforms.tld

Sa, 05-May-2001:
  
* introduced new TAGLIB-tag: dateField (does, basically nothing more than a textField, but
  we can start now adding date-specifica without messing up other code)

* introduced a very useful attribute, "format". 
  you can assign any subclass of java.text.Format and the value of the field will be formatted using
  this formatter (example: new SimpleDateFormat("yyyy-MM-dd") - see taglib docu in CVS for more details)

* fixed a bug regarding associated orderBy clause, sorting etc.
  (DbForms ignored orderBy values set as dbform-tag attribute or table attribute in dbforms-config.xml

* fixed a bug that lead to invalid database connections if there where multiple non-nested forms on
  a JSP

Fr, 04-May-2001:

* Changed DevGui:
  on panel "XML Config" there are 2 additional textfields available:
  
  - Catalog
  - Schema Pattern

  (compare to java Api-doc, java.sql.DatabaseMetaData::getTables(..), for more info about 
  what catalog and schema pattern mean!)
  
  you can enter any string you want or you can leave them blank. if you want
  them to be explicitly *null*, then you can enter the value "$null"

  examples:
  
  #) if you want to query the default demo database from oracle then use:
  - catalog = "$null"
  - schema pattern = "SCOTT"
 
  #) for querying agains a database on mysql
  - catalaog =""
  - schema pattern = ""


=============================================

@version 0.9   - 28-04-2001, major release, 

this major release will be followed by a few minor releases, as we are testing and bug fixing right
now. (this means, this version is not completetly stable yet)

lots of new features and bug fixes in 0.9
============================================

- new syntax format for fields and keys.
  the infamous "~" restriction is removed now!
 
- fixed a bug which made it impossible to create subdirectories in web-root:
  all JSP views had to be placed in web-app root, now the can be placed everywhere.
  for example you could create a subdirectory "members" for JSP views protected
  by the JSP container, etc. - DbForms will handle this correctly now.

- new attributes to DbForm tag: gotoPrefix, goto, 

- bug fixes regarding BLOBs/DISKBLOBs and in the FileServlet:
  * now DISKBLOBs can get UPDATED
  * FileServlet servers file correctly
  * BLOB-URL custom tag writes URLs correctly
  * Max. Upload size for files can be configured now using a init-parameter in WEB.XML
  

- a complete SWING-based GUI for managing XSL transformations for real Rapid Application Developement
  (check manual for more info)  

- fixed ordering/sorting bugs in TableData, QueryData, StaticData, Radio and Select - custom tags

- introduced better LOGGING by integrating LOG4J framework

- fixed bug in DbSelect-tag (fix contributed by Philip Grunikiewicz)

- removed limitation in "filter"-Attribute of DbForm custom tag 
  old versions only took into consideration an = (equal) as operator 
  now it supports >,<,<=,>= (for date intervals)!
  (fix contributed by Philip Grunikiewicz)

@version 0.8   - 09-02-2001, major release, lots of new features and bug fixes
@version 0.7.3 - 28-01-2001, quickly fixed a few bugs (more detailled info (soon) available on dbforms-website)
@version 0.7.2 - 26-01-2001, fixed a bug
@version 0.7.1 - 25-01-2001, first release of 0.7 